{"version":3,"sources":["components/form/form.module.css","components/contactItem/contactItem.module.css","components/filter/filter.module.css","components/contacts/contacts.module.css","redux/contacts/contactsServices.js","redux/contacts/contacts-store.js","components/spiner.js","components/form/form.jsx","components/filter/filter.jsx","components/contactItem/contactItem.jsx","components/contacts/contactList.jsx","App.js","index.js"],"names":["module","exports","contactsApi","createApi","reducerPath","baseQuery","fetchBaseQuery","baseUrl","tagTypes","endpoints","builder","getContacts","query","providesTags","addContact","mutation","newContact","url","method","body","invalidatesTags","deleteContact","id","useGetContactsQuery","useAddContactMutation","useDeleteContactMutation","store","configureStore","reducer","middleware","getDefaultMiddleware","setupListeners","dispatch","spin","keyframes","Spinner","CgSpinner","defaultProps","size","Form","useState","name","setName","number","setNumber","state","contacts","data","isLoading","onChange","e","currentTarget","value","reset","onSubmit","preventDefault","find","cont","toLowerCase","window","alert","toast","success","className","css","form","labelField","label","type","pattern","title","required","input","formBtn","disabled","position","reverseOrder","Filter","filterLabel","filterInput","ContactItem","isDeleting","contactItem","contact","marker","contactName","contactNumber","onClick","contactBtn","ContactList","contactsList","map","App","isSuccess","filter","setFilter","console","log","lengs","target","lowFilter","includes","contactsFilter","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4d1a1e92.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"form_form__1Ljzh\",\"labelField\":\"form_labelField__2H5He\",\"label\":\"form_label__2CZws\",\"input\":\"form_input__kPN_j\",\"formBtn\":\"form_formBtn__bGnBn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactItem\":\"contactItem_contactItem__15v1Z\",\"contact\":\"contactItem_contact__1PTDo\",\"marker\":\"contactItem_marker__2mL4B\",\"contactName\":\"contactItem_contactName__1r_4U\",\"contactNumber\":\"contactItem_contactNumber__2HDbh\",\"contactBtn\":\"contactItem_contactBtn__2niSk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"filterLabel\":\"filter_filterLabel__1GXeY\",\"filterInput\":\"filter_filterInput__3up4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"contactsList\":\"contacts_contactsList__3oLdY\"};","import { createApi, fetchBaseQuery } from \"@reduxjs/toolkit/query/react\";\n\n// Define a service using a base URL and expected endpoints\nexport const contactsApi = createApi({\n  reducerPath: \"contactsApi\",\n  baseQuery: fetchBaseQuery({\n    baseUrl: \"https://6175473308834f0017c70b8b.mockapi.io/api/v1/\",\n  }),\n  tagTypes: [\"Contact\"],\n  endpoints: (builder) => ({\n    getContacts: builder.query({\n      query: () => `/contacts`,\n      providesTags: [\"Contact\"],\n    }),\n    addContact: builder.mutation({\n      query: (newContact) => ({\n        url: \"/contacts\",\n        method: \"POST\",\n        body: newContact,\n      }),\n      invalidatesTags: [\"Contact\"],\n    }),\n    deleteContact: builder.mutation({\n      query: (id) => ({\n        url: `contacts/${id}`,\n        method: \"DELETE\",\n      }),\n      invalidatesTags: [\"Contact\"],\n    }),\n  }),\n});\n\nexport const {\n  useGetContactsQuery,\n  useAddContactMutation,\n  useDeleteContactMutation,\n} = contactsApi;\n","import { configureStore, getDefaultMiddleware } from \"@reduxjs/toolkit\";\nimport { setupListeners } from \"@reduxjs/toolkit/query\";\nimport { contactsApi } from \"./contactsServices\";\n\nexport const store = configureStore({\n  reducer: {\n    // contacts: persistReducer(contactsPersistConfig, contactsReducer),\n    [contactsApi.reducerPath]: contactsApi.reducer,\n  },\n\n  middleware: (getDefaultMiddleware) => [\n    ...getDefaultMiddleware(),\n    contactsApi.middleware,\n  ],\n  // devTools: process.env.NODE_ENV === 'development',\n});\nsetupListeners(store.dispatch);\n","import styled from \"@emotion/styled/macro\";\nimport { keyframes } from \"@emotion/react\";\nimport { CgSpinner } from \"react-icons/cg\";\n\nconst spin = keyframes`\n0% {\n  transform: rotate(0deg);\n}\n100% {\n  transform: rotate(1turn);\n}\n`;\n\nexport const Spinner = styled(CgSpinner)`\n  animation: ${spin} 0.85s linear infinite;\n`;\n\nSpinner.defaultProps = {\n  size: 40,\n};\n","import { useState } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport {\n  useGetContactsQuery,\n  useAddContactMutation,\n} from '../../redux/contacts/contactsServices';\nimport { Spinner } from '../spiner';\nimport css from './form.module.css';\n\nexport default function Form() {\n  const [name, setName] = useState('');\n  const [number, setNumber] = useState('');\n  const state = { name, number };\n\n  const { data: contacts } = useGetContactsQuery();\n  const [newContact, { isLoading }] = useAddContactMutation();\n\n  const onChange = e => {\n    switch (e.currentTarget.name) {\n      case 'name':\n        setName(e.currentTarget.value);\n        break;\n      case 'number':\n        setNumber(e.currentTarget.value);\n        break;\n      default:\n        return;\n    }\n  };\n\n  const onFormSubmit = e => {\n    e.preventDefault();\n    if (contacts.find(cont => cont.name.toLowerCase() === name.toLowerCase())) {\n      return window.alert(`${name} is already in contacts`);\n    }\n    newContact(state);\n    reset();\n    toast.success('Contact added!');\n  };\n\n  const reset = () => {\n    setName('');\n    setNumber('');\n  };\n\n  return (\n    <>\n      <form onSubmit={onFormSubmit} className={css.form}>\n        <label className={css.labelField}>\n          <span className={css.label}>Name</span>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={name}\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\n            required\n            onChange={onChange}\n            className={css.input}\n          />\n        </label>\n        <label className={css.labelField}>\n          <span className={css.label}>Number</span>\n          <input\n            type=\"tel\"\n            name=\"number\"\n            value={number}\n            pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n            title=\"Номер телефона должен состоять цифр и может содержать пробелы, тире, круглые скобки и может начинаться с +\"\n            required\n            onChange={onChange}\n            className={css.input}\n          />\n        </label>\n        <button type=\"submit\" className={css.formBtn} disabled={isLoading}>\n          Add contact{isLoading && <Spinner size={17} />}\n        </button>\n      </form>\n      <Toaster position=\"bottom-right\" reverseOrder={false} />\n    </>\n  );\n}\n","import css from \"./filter.module.css\";\n\nexport default function Filter({ value, onChange }) {\n  return (\n    <label className={css.filterLabel}>\n      Find contacts by name\n      <input\n        type=\"text\"\n        name=\"name\"\n        value={value}\n        onChange={onChange}\n        className={css.filterInput}\n      />\n    </label>\n  );\n}\n","import { useDeleteContactMutation } from \"../../redux/contacts/contactsServices\";\nimport css from \"./contactItem.module.css\";\n\nexport default function ContactItem({ id, name, number }) {\n  const [deleteContact, { isLoading: isDeleting }] = useDeleteContactMutation();\n  //   console.log(contacts);\n  return (\n    <>\n      <li key={id} className={css.contactItem}>\n        <div className={css.contact}>\n          <span className={css.marker}></span>\n          <span className={css.contactName}>{name}:</span>\n          <span className={css.contactNumber}>{number}</span>\n        </div>\n        <button\n          type=\"button\"\n          onClick={() => deleteContact(id)}\n          className={css.contactBtn}\n        >\n          {isDeleting ? \"Deleting...\" : \"Delete\"}\n        </button>\n      </li>\n    </>\n  );\n}\n","import ContactItem from \"../contactItem/contactItem\";\nimport css from \"./contacts.module.css\";\n\nexport default function ContactList({ contacts }) {\n  // const { data: contacts, error, isLoading, isSuccess } = useGetContactsQuery();\n\n  return (\n    <ul className={css.contactsList}>\n      {contacts.map((cont) => (\n        <ContactItem key={cont.id} {...cont} />\n      ))}\n    </ul>\n  );\n}\n","import { useState } from 'react';\nimport Form from './components/form/form';\nimport Filter from './components/filter/filter';\nimport ContactList from './components/contacts/contactList';\nimport { Spinner } from './components/spiner';\nimport { useGetContactsQuery } from './redux/contacts/contactsServices';\n\nexport const App = () => {\n  const { data: contacts, isLoading, isSuccess } = useGetContactsQuery();\n  const [filter, setFilter] = useState('');\n  console.log(contacts);\n  const onFilterChange = e => setFilter(e.target.value);\n\n  const contactsFilter = () => {\n    const lowFilter = filter.toLowerCase();\n    return contacts.filter(contact =>\n      contact.name.toLowerCase().includes(lowFilter)\n    );\n  };\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Phonebook</h1>\n      <Form />\n      <h2 className=\"title\">Contacts</h2>\n      {isSuccess && contacts.lengs !== 0 && (\n        <Filter value={filter} onChange={onFilterChange} />\n      )}\n      {isLoading && <Spinner />}\n      {isSuccess && (\n        <ContactList\n          contacts={contactsFilter()}\n          isLoading={isLoading}\n          isSuccess={isSuccess}\n        />\n      )}\n    </div>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { PersistGate } from \"redux-persist/integration/react\";\nimport { store } from \"./redux/contacts/contacts-store\";\nimport { App } from \"./App\";\nimport \"./index.css\";\n\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <Provider store={store.contactsStore}>\n//       <PersistGate loading={<h1>Loading..</h1>} persistor={store.persistor}>\n//         <App />\n//       </PersistGate>\n//     </Provider>\n//   </React.StrictMode>,\n//   document.getElementById(\"root\")\n// );\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}